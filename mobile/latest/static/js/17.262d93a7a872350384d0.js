webpackJsonp([17],{ttVv:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("mtWM"),i("7+uW"),i("8X1o");var a=i("0w2Z"),s=i("SfSD"),o=i.n(s),n=(i("fxnj"),i("PJh5"),{name:"login",data:function(){return{mobile:"",password:"",yzcode:"",InterValObj:"",curCount:60,haveTap:0,codeType:5}},components:{},created:function(){},mounted:function(){},methods:{close:function(){o()(".mask").hide(),o()("#logout").hide()},makeIdentifyCode:function(){var t=this,e=this;if(0===this.haveTap){if(/^\d{11}$/.test(this.mobile)){e.haveTap=1;var i={accepter:e.mobile,code_type:e.codeType};o()(".Ehint").hide(),o()("#getVerify a").hide(),o()("#getVerify i").text("获取验证码"),Object(a.i)(i).then(function(i){e.haveTap=0,0===i.data.code?(t.curCount=60,o()("#getVerify i").text(t.curCount+"s"),e.InterValObj=window.setInterval(function(){1==e.curCount?(window.clearInterval(e.InterValObj),o()("#getVerify a").show(),o()("#getVerify a").text("重新发送"),o()("#getVerify i").empty()):(e.curCount=Number(e.curCount)-1,o()("#getVerify i").text(e.curCount+"s"))},1e3),e.$alert(i.data.msg,"提示",{confirmButtonText:"确定",callback:function(t){}})):(o()("#getVerify a").show().text("重新发送"),o()("#getVerify i").empty(),o()(".Ehint").text("获取验证码失败，请重试！").show(),setTimeout(function(){o()(".Ehint").hide()},3e3),e.$alert(i.data.msg,"提示",{confirmButtonText:"确定",callback:function(t){}}))})}else o()(".Ehint").text("提示：请输入正确的手机号码！").show(),setTimeout(function(){o()(".Ehint").hide()},3e3)}else console.log("屏蔽重复点击"),e.$message.error("点击频率过快")},login:function(){var t=this;if(0===this.haveTap)if(""==this.mobile||""==o()("#verify").val())t.$message.error({message:"请输入手机号和验证码！"});else{if(!/^\d{11}$/.test(this.mobile))return t.$message.error("请输入正确的手机号！"),!1;t.haveTap=1;var e={mobile:t.mobile,code:o()("#verify").val()};Object(a.j)(e).then(function(e){0===e.data.code?(t.haveTap=0,t.$cookies.set("status","logined","7d"),t.$message.success("登陆成功"),t.$router.push({name:"home"}),localStorage.setItem("loginData",JSON.stringify(e.data.data)),t.loginData=JSON.parse(localStorage.getItem("loginData"))):(t.haveTap=0,t.$message.error(e.data.msg))})}else console.log("屏蔽重复点击"),t.$message.error("点击频率过快")}},destroyed:function(){this.InterValObj&&clearInterval(this.InterValObj)}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main_content"},[a("el-container",[a("div",{staticClass:"login_bg"},[a("div",{staticClass:"login_bg_img"},[a("img",{attrs:{src:i("aF6v")}})]),t._v(" "),a("div",{staticClass:"login_bg_title"},[t._v("登录")]),t._v(" "),a("div",{staticClass:"login_ul"},[a("div",{staticClass:"login_info"},[a("label",[t._v("手机号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"login_info"},[a("label",[t._v("验证码")]),t._v(" "),a("div",{staticClass:"login_code"},[a("input",{staticClass:"loan_inut",attrs:{id:"verify",placeholder:"请输入验证码"}}),t._v(" "),a("label",{attrs:{id:"getVerify"}},[a("span",[a("a",{on:{click:t.makeIdentifyCode}},[t._v("获取验证码 ")]),a("i")])])])]),t._v(" "),a("div",{staticClass:"pass_login"},[a("router-link",{attrs:{to:{name:"loginPass"}}},[t._v("密码登录")])],1),t._v(" "),a("p",{staticClass:"Ehint"}),t._v(" "),a("div",{staticClass:"login_btn"},[a("button",{on:{click:t.login}},[t._v("登录")])]),t._v(" "),a("div",{staticClass:"register_btn"},[a("router-link",{attrs:{to:{name:"register"}}},[a("button",[t._v("注册")])])],1)])]),t._v(" "),a("div",{staticClass:"mask",on:{click:t.close}}),t._v(" "),a("div",{staticClass:"dialog",attrs:{id:"logout"}},[a("div",{staticClass:"dialog-content"}),t._v(" "),a("div",{staticClass:"dialog-btn clearfix"},[a("a",{staticClass:"dialog_sure2",on:{click:t.close}},[t._v("确认")])])])])],1)},staticRenderFns:[]};var r=i("VU/8")(n,l,!1,function(t){i("v0ec")},"data-v-4ba2f4c8",null);e.default=r.exports},v0ec:function(t,e){}});